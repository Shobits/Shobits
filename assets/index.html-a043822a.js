import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as i,c,a as n,b as e,d,e as o}from"./app-a3f83f4f.js";const l="/assets/images/blog/2023-07-29_22-53-54.webp",r="/assets/images/blog/2023-07-29_23-09-02.webp",p="/assets/images/blog/2023-07-29_23-16-22.webp",m="/assets/images/blog/2023-07-29_23-21-59.webp",g={},u=n("blockquote",null,[n("p",null,"需要有一定的基础，不是零基础操作。")],-1),v=n("h2",{id:"前置",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#前置","aria-hidden":"true"},"#"),e(" 前置")],-1),h=n("h3",{id:"获取镜像",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#获取镜像","aria-hidden":"true"},"#"),e(" 获取镜像")],-1),b={href:"https://hub.docker.com/search",target:"_blank",rel:"noopener noreferrer"},x=o('<blockquote><p>需要魔法</p></blockquote><ul><li><p>搜索 nginx 镜像<br><img src="'+l+'" alt="docker 官网搜索 nginx" loading="lazy"></p></li><li><p>查看适合的版本，不懂直接<code>latest</code>（最新版本）<br><img src="'+r+`" alt="查看 nginx 版本(Tag)" loading="lazy"></p></li></ul><h3 id="拉取镜像" tabindex="-1"><a class="header-anchor" href="#拉取镜像" aria-hidden="true">#</a> 拉取镜像</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>  <span class="token comment"># 获取最新版本，需要其他版本请替换 \`latest\`</span>
  <span class="token function">docker</span> pull nginx:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:center;">命令</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center;"><code>docker pull nginx</code></td><td>下载最新版Nginx镜像 (其实此命令就等同于 : <code>docker pull nginx:latest</code> )</td></tr><tr><td style="text-align:center;"><code>docker pull nginx:version</code></td><td>下载指定版本的Nginx镜像 (<code>version</code>指具体版本号)</td></tr></tbody></table><h3 id="检查镜像" tabindex="-1"><a class="header-anchor" href="#检查镜像" aria-hidden="true">#</a> 检查镜像</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> images
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看是否成功拉取镜像</p><figure><img src="`+p+`" alt="查看 docker 镜像" tabindex="0" loading="lazy"><figcaption>查看 docker 镜像</figcaption></figure><h2 id="创建文件映射目录-挂载目录" tabindex="-1"><a class="header-anchor" href="#创建文件映射目录-挂载目录" aria-hidden="true">#</a> 创建文件映射目录(挂载目录)</h2><p>创建<code>nginx</code>文件夹，在其中另外创建三个子文件夹，分别是<code>conf</code>、<code>html</code>、<code>log</code>，其中<code>conf</code>中还需要创建子文件夹<code>conf.d</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">|</span>- nginx <span class="token comment"># 主文件夹</span>
<span class="token operator">|</span>	<span class="token operator">|</span>- conf <span class="token comment"># 主配置文件夹</span>
<span class="token operator">|</span>	<span class="token operator">|</span>	<span class="token operator">|</span>- conf.d <span class="token comment">#子配置文件夹 </span>
<span class="token operator">|</span>	<span class="token operator">|</span>- html <span class="token comment"># 前端页面文件夹</span>
<span class="token operator">|</span>	<span class="token operator">|</span>- log <span class="token comment"># 日志文件夹</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="获取映射的文件" tabindex="-1"><a class="header-anchor" href="#获取映射的文件" aria-hidden="true">#</a> 获取映射的文件</h2><blockquote><p>随便创建一个 Nginx 容器用于拷贝文件</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 单行命令</span>
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">--name</span> nginx <span class="token parameter variable">-d</span> nginx:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>复制文件到宿主机上，文件需要壹壹对应（<code>一一</code>太像<code>——</code>）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 生成容器</span>
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> nginx <span class="token parameter variable">-p</span> <span class="token punctuation">[</span>port<span class="token punctuation">]</span>:80 <span class="token parameter variable">-d</span> nginx
<span class="token comment"># 例如：docker run --name nginx -p 9000:80 -d nginx</span>

<span class="token comment"># 将容器nginx.conf文件复制到宿主机</span>
<span class="token function">docker</span> <span class="token function">cp</span> nginx:/etc/nginx/nginx.conf <span class="token punctuation">[</span>文件夹路径<span class="token punctuation">]</span>
<span class="token comment"># 例如：docker cp nginx:/etc/nginx/nginx.conf D:/docker/nginx/conf/nginx.conf</span>

<span class="token comment"># 将容器conf.d文件夹下内容复制到宿主机</span>
<span class="token function">docker</span> <span class="token function">cp</span> nginx:/etc/nginx/conf.d <span class="token punctuation">[</span>文件夹路径<span class="token punctuation">]</span>
<span class="token comment"># 例如：docker cp nginx:/etc/nginx/conf.d D:/docker/nginx/conf/conf.d</span>

<span class="token comment"># 将容器中的html文件夹复制到宿主机</span>
<span class="token function">docker</span> <span class="token function">cp</span> nginx:/usr/share/nginx/html <span class="token punctuation">[</span>文件夹路劲<span class="token punctuation">]</span>
<span class="token comment"># 例如：docker cp nginx:/usr/share/nginx/html D:/docker/nginx/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如下图所示：</p><figure><img src="`+m+`" alt="docker路径 与 Windows路径" tabindex="0" loading="lazy"><figcaption>docker路径 与 Windows路径</figcaption></figure><h2 id="创建容器" tabindex="-1"><a class="header-anchor" href="#创建容器" aria-hidden="true">#</a> 创建容器</h2><p>删除之前拷贝文件创建的 Nginx</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 直接执行docker rm nginx或者以容器id方式关闭容器</span>
<span class="token comment"># 找到nginx对应的容器id</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span>
<span class="token comment"># 关闭该容器</span>
<span class="token function">docker</span> stop nginx
<span class="token comment"># 删除该容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> nginx
 
<span class="token comment"># 删除正在运行的nginx容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建新容器</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 单行命令</span>
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">9002</span>:80 <span class="token parameter variable">--name</span> nginx <span class="token parameter variable">-v</span> D:/docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf <span class="token parameter variable">-v</span> D:/docker/nginx/conf/conf.d:/etc/nginx/conf.d <span class="token parameter variable">-v</span> D:/docker/nginx/log:/var/log/nginx <span class="token parameter variable">-v</span> D:/docker/nginx/html:/usr/share/nginx/html <span class="token parameter variable">-d</span> nginx:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="相关参数介绍" tabindex="-1"><a class="header-anchor" href="#相关参数介绍" aria-hidden="true">#</a> 相关参数介绍</h2><table><thead><tr><th style="text-align:left;">命令</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><code>–-name nginx</code></td><td style="text-align:left;">启动容器的名字</td></tr><tr><td style="text-align:left;"><code>-d</code></td><td style="text-align:left;">后台运行</td></tr><tr><td style="text-align:left;"><code>-p 9002:80</code></td><td style="text-align:left;">将容器的 <code>9002</code>(后面那个) 端口映射到主机的 <code>80</code>(前面那个) 端口</td></tr><tr><td style="text-align:left;"><code>-v /home/nginx/conf/nginx.conf:/etc/nginx/nginx.conf</code></td><td style="text-align:left;">挂载<code>nginx.conf</code>配置文件</td></tr><tr><td style="text-align:left;"><code>-v /home/nginx/conf/conf.d:/etc/nginx/conf.d</code></td><td style="text-align:left;">挂载<code>nginx</code>配置文件</td></tr><tr><td style="text-align:left;"><code>-v /home/nginx/log:/var/log/nginx</code></td><td style="text-align:left;">挂载<code>nginx</code>文件</td></tr><tr><td style="text-align:left;"><code>-v /home/nginx/html:/usr/share/nginx/html</code></td><td style="text-align:left;">挂载<code>nginx</code>内容</td></tr><tr><td style="text-align:left;"><code>nginx:latest</code></td><td style="text-align:left;">本地运行的版本</td></tr><tr><td style="text-align:left;"><code>\\</code></td><td style="text-align:left;"><code>shell</code> 命令换行</td></tr></tbody></table><h2 id="重启完工" tabindex="-1"><a class="header-anchor" href="#重启完工" aria-hidden="true">#</a> 重启完工</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 重启容器</span>
<span class="token function">docker</span> restart nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,28);function k(f,_){const a=t("ExternalLinkIcon");return i(),c("div",null,[u,v,h,n("p",null,[n("a",b,[e("Docker官网搜索镜像"),d(a)])]),x])}const N=s(g,[["render",k],["__file","index.html.vue"]]);export{N as default};
